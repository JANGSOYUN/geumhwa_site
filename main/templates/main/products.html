{% extends 'main/base.html' %}
{% load static %}

{% block title %}제품소개 - GEUMHWA BOX{% endblock %}

{% block extra_style %}
  <style>
    /* Banner Section */
    .product-banner {
      position: relative;
      width: 100%;
      height: 300px;
      overflow: hidden;
    }
    
    .product-banner img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      image-rendering: -webkit-optimize-contrast;
      image-rendering: auto;
      -ms-interpolation-mode: bicubic;
      backface-visibility: hidden;
      transform: translateZ(0);
      will-change: transform;
    }
    
    .product-banner-text {
      position: absolute;
      left: 10%;
      top: 50%;
      transform: translateY(-50%);
      color: #fff;
      z-index: 2;
    }
    
    .product-banner-title {
      font-family: Paperlogy-8ExtraBold;
      font-size: 75px;
      font-weight: 700;
      margin-top: 0px;
      margin-bottom: -15px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }
    
    .product-banner-subtitle {
      font-family: Paperlogy-4Regular;
      font-size: 25px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }
    
    /* Sub Navigation */
    .sub-nav {
      position: sticky;
      top: 70px;
      z-index: 100;
      background: #fff;
      border-top: 2px solid #e0e0e0;
      border-bottom: 1px solid #e0e0e0;
      padding: 0;
    }
    
    .sub-nav-content {
      display: flex;
      justify-content: center;
      gap: 0;
    }
    
    .sub-nav-item {
      padding: 15px 40px;
      text-decoration: none;
      color: #666;
      font-family: Paperlogy-4Regular;
      font-size: 16px;
      background: #fff;
      border: none;
      border-right: 1px solid #e0e0e0;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
    }
    
    .sub-nav-item:last-child {
      border-right: none;
    }
    
    .sub-nav-item.active {
      background: #666;
      color: #fff;
    }
    
    .sub-nav-item:hover {
      background: #f5f5f5;
      color: #222;
    }
    
    .sub-nav-item.active:hover {
      background: #666;
      color: #fff;
    }
    
    /* Content Sections */
    .content-section {
      display: none;
      padding: 60px 0;
    }
    
    .content-section.active {
      display: block;
    }
    
    .section-title {
      text-align: center;
      font-family: Paperlogy-6SemiBold;
      font-size: 45px;
      margin-bottom: 25px;
      color: #222;
      border-bottom: none !important;
      padding-bottom: 0;
    }
    
    .section {
      margin-bottom: 80px;
    }
    
    .page-subtitle {
      font-family: Paperlogy-4Regular;
      font-size: 25px;
      font-weight: 400;
    }
    
    /* Paper Structure */
    .paper-structure {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 70px;
      margin-bottom: 40px;
    }
    
    .paper-diagram {
      text-align: center;
    }
    
    .paper-description {
      font-size: 14px;
      line-height: 1.6;
    }
    
    .paper-description-detail {
      display: flex;
    }
    
    .paper-description-detail-one {
      font-size: 25px;
      margin-right: 15px;
    }

    .paper-description-detail-two {
      font-family: Paperlogy-4Regular;
      font-size: 25px;
    }

    .paper-description-detail-three {
      margin: 10px 0 50px 25px;
      font-family: Paperlogy-3Light;
      font-size: 18px;
    }
    
    /* Paper Types Table */
    .paper-types-layout {
      display: grid;
      grid-template-columns: 0.8fr 1.2fr;
      gap: 40px;
      align-items: flex-start;
      margin-top: 25px;
    }

    .paper-samples {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    .paper-sample-div {
      display: flex;
      gap: 10px;
      justify-content: center;
    }

    .paper-sample {
      width: 110px;
      text-align: center;
    }

    .paper-sample img {
      width: 100%;
      height: 186px;
      border: 1px solid #ddd;
    }

    .paper-sample-label {
      margin-bottom: 15px;
      font-family: Paperlogy-4Regular;
      font-size: 18px;
    }

    .paper-table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
      font-family: Paperlogy-4Regular;
    }
    
    .paper-table th {
      background: #fff;
      text-align: center;
      font-weight: 500;
      font-family: Paperlogy-4Regular;
      padding: 10px;
      border-top: 1px solid #595959;
      border-bottom: 1px solid #595959;
    }
    
    .paper-table tr {
      background: #D9D9D9;
      border-bottom: 1px solid #A6A6A6;
    }
    
    .paper-table td {
      text-align: center;
      font-family: Paperlogy-3Light;
      padding: 10px;
    }
    
    /* Flute Types */
    .flute-section {
      margin-top: 30px;
    }

    .flute-layout {
      display: grid;
      grid-template-columns: 0.9fr 1.3fr;
      gap: 20px;
      align-items: flex-start;
    }

    .flute-images {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .flute-image-item {
      text-align: center;
    }

    .flute-image-item img {
      max-width: 100%;
      height: auto;
    }

    .flute-image-label {
      margin-top: -10px;
      font-family: Paperlogy-4Regular;
      font-size: 20px;
    }

    .flute-table {
      width: 100%;
      border-collapse: collapse;
      font-family: Paperlogy-4Regular;
    }

    .flute-table th {
      background: #fff;
      text-align: center;
      font-weight: 500;
      padding: 10px;
      border-top: 1px solid #595959;
      border-bottom: 1px solid #595959;
    }

    .flute-table tr {
      background: #D9D9D9;
      border-bottom: 1px solid #A6A6A6;
    }

    .flute-table td {
      text-align: center;
      font-family: Paperlogy-3Light;
      padding: 10px;
    }
    
    /* Box Products Grid */
    .box-gallery {
      margin-top: 30px;
    }

    .box-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 30px;
      justify-items: center;
    }

    .box-grid img {
      width: 100%;
      max-width: 320px;
      height: auto;
      object-fit: cover;
    }
    
    /* Product Categories */
    .product-categories {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 60px;
      max-width: 1200px;
      margin: 0 auto;
      padding: 80px 20px;
    }
    
    .product-category-item {
      text-align: center;
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    
    .product-category-item:hover {
      transform: translateY(-5px);
    }
    
    /* Product Detail Sections */
    .product-detail-section {
      display: none;
      padding: 60px 0;
    }
    
    .product-detail-section.active {
      display: block;
    }
    
    .product-description {
      text-align: center;
      font-size: 20px;
      color: #555;
      margin-bottom: 60px;
      line-height: 1.8;
      font-family: Paperlogy-4Regular;
    }
    
    .product-images {
      display: grid;
      grid-template-columns: repeat(2, 0.5fr);
      gap: 40px;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .product-image-item {
      text-align: center;
    }
    
    .product-image-item img {
      width: 100%;
      height: auto;
      border-radius: 8px;
    }
    
    .product-category-image {
      width: 100%;
      max-width: 400px;
      height: 278px;
      margin: 0 auto 20px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    .product-category-label {
      font-family: Paperlogy-6SemiBold;
      font-size: 28px;
      color: #222;
      margin-top: 15px;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .product-banner {
        height: 200px;
      }
      
      .product-banner-title {
        font-size: 32px;
      }
      
      .sub-nav-item {
        padding: 12px 20px;
        font-size: 14px;
      }
      
      .paper-structure {
        grid-template-columns: 1fr;
      }
      
      .paper-types-layout {
        grid-template-columns: 1fr;
      }
      
      .flute-layout {
        grid-template-columns: 1fr;
      }
      
      .product-categories {
        grid-template-columns: 1fr;
        gap: 40px;
        padding: 40px 20px;
      }
      
      .product-images {
        grid-template-columns: 1fr;
        gap: 30px;
      }
    }
  </style>
{% endblock %}

{% block content %}
  <!-- Banner Section -->
  <section class="product-banner">
    <img 
      src="{% static 'img/box-13.png' %}" 
      alt="제품소개 배너" 
      loading="eager"
      fetchpriority="high"
      decoding="async"
    />
    <div class="product-banner-text">
      <h1 class="product-banner-title">제품소개</h1>
      <p class="product-banner-subtitle">Product</p>
    </div>
  </section>

  <!-- Sub Navigation -->
  <section class="sub-nav">
    <div class="container">
      <div class="sub-nav-content">
        <a href="#product-menu" class="sub-nav-item" data-section="paper">골판지</a>
        <a href="#product-menu" class="sub-nav-item" data-section="carton">카톤박스</a>
        <a href="#product-menu" class="sub-nav-item" data-section="color">컬러박스</a>
      </div>
    </div>
  </section>

  <!-- Product Categories -->
  <section class="content" id="product-categories">
    <div class="product-categories">
      <div class="product-category-item" onclick="showSection('paper')">
        <img src="{% static 'img/box-14.png' %}" alt="골판지" class="product-category-image" />
        <div class="product-category-label">골판지</div>
      </div>
      <div class="product-category-item" onclick="showSection('carton')">
        <img src="{% static 'img/box-23.png' %}" alt="카톤박스" class="product-category-image" />
        <div class="product-category-label">카톤박스</div>
      </div>
      <div class="product-category-item" onclick="showSection('color')">
        <img src="{% static 'img/box-24.png' %}" alt="컬러박스" class="product-category-image" />
        <div class="product-category-label">컬러박스</div>
      </div>
    </div>
  </section>

  <!-- Product Detail Sections -->
  <section class="content">
    <div class="container">
      <!-- 골판지 섹션 -->
      <div class="product-detail-section" id="product-paper">
        <h2 class="section-title">골판지박스</h2>
        
        <!-- 01 골판지 원지 -->
        <div class="section">
          <h2 class="page-subtitle">01 골판지 원지</h2>
          <div class="paper-structure">
            <div class="paper-diagram">
              <img src="{% static 'img/products1.png' %}" alt="골판지 원지 구조" style="max-width: 100%; height: auto;" />
            </div>
            <div class="paper-description">
              <div class="paper-description-detail">
                <p class="paper-description-detail-one">|</p>
                <p class="paper-description-detail-two">표면지</p>
              </div>
              <p class="paper-description-detail-three">표면지는 골판지의 표면에 해당 하며, 인쇄 또는 합지가 되는 면입니다.</p>
              <div class="paper-description-detail">
                <p class="paper-description-detail-one">|</p>
                <p class="paper-description-detail-two">골심지</p>
              </div>
              <p class="paper-description-detail-three">골심지는  박스의 강도를 결정하는 원지이며, 골의 두께와 가공방법에 따라 다양한 골제작이 가능합니다.</p>
              <div class="paper-description-detail">
                <p class="paper-description-detail-one">|</p>
                <p class="paper-description-detail-two">이면지</p>
              </div>
              <p class="paper-description-detail-three">이면지는 골판지 박스의 내면에 해당 하며, 포장하려는 제품과 닿는 면으로 제품의 용도에 따라 선택이 가능합니다.</p>
            </div>
          </div>
        </div>

        <!-- 02 원지 종류 -->
        <div class="section">
          <h2 class="page-subtitle">02 원지 종류</h2>
          <div class="paper-types-layout">
            <div class="paper-samples">
              <div>
                <div class="paper-sample-div">
                  <div class="paper-sample">
                    <img src="{% static 'img/products-s.png' %}" alt="S원지 샘플" />
                    <div class="paper-sample-label">S원지</div>
                  </div>
                  <div class="paper-sample">
                    <img src="{% static 'img/products-b.png' %}" alt="B원지 샘플" />
                    <div class="paper-sample-label">B원지</div>
                  </div>
                  <div class="paper-sample">
                    <img src="{% static 'img/products-k.png' %}" alt="K원지 샘플" />
                    <div class="paper-sample-label">K원지</div>
                  </div>
                </div>
                <div class="paper-sample-div">
                  <div class="paper-sample">
                    <img src="{% static 'img/products-sk.png' %}" alt="SK원지 샘플" />
                    <div class="paper-sample-label">SK원지</div>
                  </div>
                  <div class="paper-sample">
                    <img src="{% static 'img/products-klb.png' %}" alt="KLB원지 샘플" />
                    <div class="paper-sample-label">KLB원지</div>
                  </div>
                  <div class="paper-sample">
                    <img src="{% static 'img/products-wk.png' %}" alt="WK원지 샘플" />
                    <div class="paper-sample-label">WK원지</div>
                  </div>
                  <div class="paper-sample">
                    <img src="{% static 'img/products-sc.png' %}" alt="SC원지 샘플" />
                    <div class="paper-sample-label">SC원지</div>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <table class="paper-table">
                <thead>
                  <tr>
                    <th>원지 종류</th>
                    <th>용도</th>
                    <th>비고</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>S</td>
                    <td>골심지</td>
                    <td>가장 얇은 원지, 가벼운 상자에 사용</td>
                  </tr>
                  <tr>
                    <td>B</td>
                    <td>골심지, 이면지</td>
                    <td>강도와 평량이 중간정도</td>
                  </tr>
                  <tr>
                    <td>K</td>
                    <td>골심지, 이면지</td>
                    <td>가장 많이 쓰이는 원지</td>
                  </tr>
                  <tr>
                    <td>SK</td>
                    <td>표면지</td>
                    <td>표면이 부드럽고 지분이 덜 나옴</td>
                  </tr>
                  <tr>
                    <td>KLB</td>
                    <td>표면지, 이면지</td>
                    <td>질기고 내습과 내구성이 좋아 단가가 높음</td>
                  </tr>
                  <tr>
                    <td>강골(CK/AK)</td>
                    <td>골심지</td>
                    <td>강도가 높으나 단가가 높음</td>
                  </tr>
                  <tr>
                    <td>WK</td>
                    <td>표면지, 이면지</td>
                    <td>흰색 원지로 강도는 K와 유사하나 고급감이 있음</td>
                  </tr>
                  <tr>
                    <td>SC</td>
                    <td>표면지</td>
                    <td>광택이 있는 흰색 원지</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- 03 골 종류 -->
        <div class="section">
          <h2 class="page-subtitle">03 골 종류</h2>
          <div class="flute-section">
            <div class="flute-layout">
              <div class="flute-images">
                <div class="flute-image-item">
                  <img src="{% static 'img/wall-a.png' %}" alt="A골 단면" />
                  <div class="flute-image-label">A 골</div>
                </div>
                <div class="flute-image-item">
                  <img src="{% static 'img/wall-b.png' %}" alt="B골 단면" />
                  <div class="flute-image-label">B 골</div>
                </div>
                <div class="flute-image-item">
                  <img src="{% static 'img/wall-e.png' %}" alt="E골 단면" />
                  <div class="flute-image-label">E 골</div>
                </div>
                <div class="flute-image-item">
                  <img src="{% static 'img/wall-dw.png' %}" alt="D/W 단면" />
                  <div class="flute-image-label">D/W (Double wall)</div>
                </div>
              </div>
              <div>
                <table class="flute-table">
                  <thead>
                    <tr>
                      <th colspan="2">골 종류</th>
                      <th>두께</th>
                      <th style="width: 435px;">특징 및 용도</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td rowspan="3">싱글 골<br><p style="font-size: 14px;">(Single wall)</p></td>
                      <td>A</td>
                      <td>약 5 mm</td>
                      <td style="text-align: left; padding: 15px 20px 15px 20px;">강도는 낮지만 완충성이 좋아 완충성이 중요한 큰 가전 가구, 유리, 농산물 박스로 적합</td>
                    </tr>
                    <tr>
                      <td>B</td>
                      <td>약 2.5 mm</td>
                      <td style="text-align: left; padding: 15px 20px 15px 20px;">A골에 비해 완충성은 떨어지지만 강도는 더 높음. 가장 대중적인 골로 택배박스에 주로 사용됨</td>
                    </tr>
                    <tr>
                      <td>E</td>
                      <td>약 1.5 mm</td>
                      <td style="text-align: left; padding: 15px 20px 15px 20px;">완충성은 약한 편이나 강도 및 평탄도가 좋아 정밀 인쇄가 용이하고 부피가 작고 가벼운 물품 포장에 적합</td>
                    </tr>
                    <tr>
                      <td rowspan="2">DW<br><p style="font-size: 14px;">(Double wall)</p></td>
                      <td>BA</td>
                      <td>약 8 mm</td>
                      <td style="text-align: left; padding: 15px 20px 15px 20px;">각 싱글 골을 합쳐 만든 이중 골판지 구조이며 강도, 밀도, 완충성이 높아 무겁고 부피가 큰 물품 포장에 사용되고 고가제품, 수출, 컨테이너 박스에 주로 사용됨</td>
                    </tr>
                    <tr>
                      <td>EB</td>
                      <td>약 4 mm</td>
                      <td style="text-align: left; padding: 15px 20px 15px 20px;">각 싱글 골을 합쳐 만든 이중 골판지 구조로, 완충성과 강도가 모두 우수하며 비교적 부피가 작으면서도 보호가 필요한 제품에 사용됨</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 상자제품 섹션 -->
      <div class="content-section" id="product-box-products">
        <h2 class="section-title">상자제품</h2>
        <div class="box-gallery">
          <div class="box-grid">
            <img src="{% static 'img/box-1.png' %}" alt="박스 샘플 1">
            <img src="{% static 'img/box-2.png' %}" alt="박스 샘플 2">
            <img src="{% static 'img/box-3.png' %}" alt="박스 샘플 3">
            <img src="{% static 'img/box-4.png' %}" alt="박스 샘플 4">
            <img src="{% static 'img/box-5.png' %}" alt="박스 샘플 5">
            <img src="{% static 'img/box-6.png' %}" alt="박스 샘플 6">
            <img src="{% static 'img/box-7.png' %}" alt="박스 샘플 7">
            <img src="{% static 'img/box-8.png' %}" alt="박스 샘플 8">
            <img src="{% static 'img/box-9.png' %}" alt="박스 샘플 9">
            <img src="{% static 'img/box-10.png' %}" alt="박스 샘플 10">
            <img src="{% static 'img/box-11.png' %}" alt="박스 샘플 11">
            <img src="{% static 'img/box-12.png' %}" alt="박스 샘플 12">
          </div>
        </div>
      </div>

      <!-- 카톤박스 섹션 -->
      <div class="product-detail-section" id="product-carton">
        <h2 class="section-title">카톤박스</h2>
        <p class="product-description">제품 보호와 작업 효율을 고려한 실용적인 카톤박스 솔루션을 제공합니다.</p>
        <div class="product-images">
          <div class="product-image-item">
            <img src="{% static 'img/box-21.png' %}" alt="카톤박스 제품 1" />
          </div>
          <div class="product-image-item">
            <img src="{% static 'img/box-22.png' %}" alt="카톤박스 제품 2" />
          </div>
        </div>
      </div>

      <!-- 컬러박스 섹션 -->
      <div class="product-detail-section" id="product-color">
        <h2 class="section-title">컬러박스</h2>
        <p class="product-description">디자인, 규격, 인쇄 방식까지 <br>고객의 요구를 세심하게 반영한 맞춤형 컬러박스를 제공합니다.</p>
        <div class="product-images">
          <div class="product-image-item">
            <img src="{% static 'img/box-19.png' %}" alt="컬러박스 제품 1" />
          </div>
          <div class="product-image-item">
            <img src="{% static 'img/box-20.png' %}" alt="컬러박스 제품 2" />
          </div>
        </div>
      </div>
    </div>
  </section>
{% endblock %}

{% block extra_script %}
  <script>
    // Set sub-nav top position based on header height
    (function() {
      function updateSubNavPosition() {
        const header = document.querySelector('header');
        const subNav = document.querySelector('.sub-nav');
        if (header && subNav) {
          const headerHeight = header.offsetHeight;
          subNav.style.top = headerHeight + 'px';
        }
      }
      
      // Update on load
      updateSubNavPosition();
      
      // Update on resize
      window.addEventListener('resize', updateSubNavPosition);
    })();
    
    // Sub navigation functionality
    (function() {
      const subNavItems = document.querySelectorAll('.sub-nav-item');
      const productDetailSections = document.querySelectorAll('.product-detail-section');
      const productCategories = document.getElementById('product-categories');
      
      window.showSection = function(sectionId) {
        // Hide product categories
        if (productCategories) {
          productCategories.style.display = 'none';
        }
        
        // Update active nav item
        subNavItems.forEach(item => {
          if (item.getAttribute('data-section') === sectionId) {
            item.classList.add('active');
          } else {
            item.classList.remove('active');
          }
        });
        
        // Show corresponding section
        productDetailSections.forEach(section => {
          const targetId = 'product-' + sectionId;
          if (section.id === targetId) {
            section.classList.add('active');
            // Scroll to the section smoothly after a short delay
            setTimeout(() => {
              const sectionTop = section.offsetTop;
              const subNav = document.querySelector('.sub-nav');
              const subNavHeight = subNav ? subNav.offsetHeight : 0;
              const headerHeight = document.querySelector('header') ? document.querySelector('header').offsetHeight : 0;
              const scrollPosition = sectionTop - subNavHeight - headerHeight - 20;
              
              window.scrollTo({
                top: scrollPosition,
                behavior: 'smooth'
              });
            }, 50);
          } else {
            section.classList.remove('active');
          }
        });
      }
      
      function showCategories() {
        // Show product categories
        if (productCategories) {
          productCategories.style.display = 'block';
        }
        
        // Hide all detail sections
        productDetailSections.forEach(section => {
          section.classList.remove('active');
        });
        
        // Remove active from nav items
        subNavItems.forEach(item => {
          item.classList.remove('active');
        });
      }
      
      // Handle nav item clicks
      subNavItems.forEach(item => {
        item.addEventListener('click', (e) => {
          e.preventDefault();
          const sectionId = item.getAttribute('data-section');
          
          if (sectionId) {
            showSection(sectionId);
            
            // Update URL hash without triggering scroll
            const currentHash = window.location.hash;
            const newHash = 'product-' + sectionId;
            if (currentHash !== '#' + newHash) {
              history.pushState(null, null, '#' + newHash);
            }
          }
        });
      });
      
      // Handle hash changes
      window.addEventListener('hashchange', () => {
        const hash = window.location.hash.replace('#product-', '');
        if (hash) {
          showSection(hash);
        } else {
          showCategories();
        }
      });
      
      // Handle browser back/forward
      window.addEventListener('popstate', () => {
        const hash = window.location.hash.replace('#product-', '');
        if (hash) {
          showSection(hash);
        } else {
          showCategories();
        }
      });
      
      // Initialize based on hash or default to categories
      const initialHash = window.location.hash.replace('#product-', '');
      if (initialHash) {
        showSection(initialHash);
      } else {
        // Default to show product categories
        showCategories();
      }
    })();
  </script>
{% endblock %}
